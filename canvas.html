<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<canvas id="canvas" style="border:solid 1px darkgoldenrod;" width="200px" height="100px"></canvas>
	<script>
		var c=document.getElementById("canvas"); 
		var ctx=c.getContext("2d"); 
		ctx.fillStyle="#E992B9";
		ctx.lineWidth=1; 
		var str = "测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试";
		var lineWidth = 0;
		var canvasWidth = c.width;//计算canvas的宽度
		var initHeight=15;//绘制字体距离canvas顶部初始的高度
		var lastSubStrIndex= 0; //每次开始截取的字符串的索引
		for(let i=0;i<str.length;i++){ 
		    lineWidth+=ctx.measureText(str[i]).width; 
		    if(lineWidth>canvasWidth){  
		        ctx.fillText(str.substring(lastSubStrIndex,i),0,initHeight);//绘制截取部分
		        initHeight+=20;//20为字体的高度
		        lineWidth=0;
		        lastSubStrIndex=i;
		    } 
		    if(i==str.length-1){
		        ctx.fillText(str.substring(lastSubStrIndex,i+1),0,initHeight);
		    }
		}
	</script>
</body>
</html>